{"version":3,"sources":["utils/validators/validators.js","components/Common/FormsControls/FormsControls.jsx","components/Common/FormsControls/FormsControls.module.css","components/hoc/withAuthRedirect.js","components/Profile/Profile.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/AddPostForm/AddPostForm.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/ProfileStatus/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["required","value","maxLengthCreator","maxLength","length","Textarea","input","meta","touched","error","props","hasError","className","styles","form_control","Input","module","exports","mapStateToProps","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","to","React","connect","Post","item","src","alt","message","likesCount","maxLength10","AddPostFormRedux","reduxForm","form","onSubmit","handleSubmit","postsBlock","Field","component","name","placeholder","validate","MyPosts","memo","console","log","postsElement","profilePage","posts","map","p","key","id","values","addPost","newPostBody","MyPostsContainer","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","updateStatusTC","ProfileInfo","profile","avatarImg","photos","large","nonAva","Profile","container","Preloader","ProfileContainer","userID","match","params","UserID","authorizedUserID","history","push","getUserProfileTC","getStatusTC","compose","withRouter"],"mappings":"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","file":"static/js/4.78e3e26e.chunk.js","sourcesContent":["export const required = value => {\n    if(value) return undefined;\n    return \"Поле должно быть заполнено\";\n}\n\nexport const maxLengthCreator = maxLength => value => {\n    if(value.length > maxLength) return `Вы ввели максимально допустимое количество символов (${maxLength})`;\n    return undefined;\n}","import React from \"react\";\nimport styles from \"./FormsControls.module.css\";\n\nexport const Textarea = ({input, meta: {touched, error}, ...props}) => {\n    const hasError = touched && error;\n    return (\n        <div className={styles.form_control + \" \" + (hasError && styles.error)} >\n        <div><textarea {...input} {...props} /></div>    \n    {hasError && <span>{error}</span>}\n        </div>\n    )\n}\n\nexport const Input = ({input, meta: {touched, error}, ...props}) => {\n    const hasError = touched && error;\n    return (\n        <div className={styles.form_control + \" \" + (hasError && styles.error)} >\n        <div><input {...input} {...props} /></div>    \n    {hasError && <span>{error}</span>}\n        </div>\n    )\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form_control\":\"FormsControls_form_control__11y0-\",\"error\":\"FormsControls_error__35B8G\",\"formSummaryError\":\"FormsControls_formSummaryError__3e7lO\"};","import React from 'react';\nimport { Redirect } from \"react-router\";\nimport { connect } from 'react-redux';\n\nfunction mapStateToProps(state) {\n    return {\n      isAuth: state.auth.isAuth\n    };\n  }\n\nexport const withAuthRedirect = (Component) => {\n    \n    \n    class RedirectComponent extends React.Component {\n        render(){\n            if(!this.props.isAuth){\n                return <Redirect to={\"/login\"} />\n              }\n              return <Component {...this.props} />\n        }\n    }\n\n    let ConnectedRedirectComponent = connect(mapStateToProps)(RedirectComponent);\n\n    return ConnectedRedirectComponent;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Profile_container__1Z5Lm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2ifKf\",\"posts\":\"MyPosts_posts__3tZ1c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__ihtu9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3cd8Y\",\"avatarImg\":\"ProfileInfo_avatarImg__2izmI\"};","import React from \"react\";\nimport styles from \"./Post.module.css\";\n\nfunction Post(props) {\n  return (\n    <div className={styles.item}>\n      <img src='https://www.epicentrofestival.com/wp-content/uploads/2019/12/Tattoo-Clipart-Greaser-Pin-Up-Girl-Png-720x1149.jpg' alt='Аватар' />\n      <div>{props.message}</div>\n      <div>Понравилось: {props.likesCount}</div>\n    </div>\n  );\n}\n\nexport default Post;","import React from \"react\";\nimport styles from \"./AddPostForm.module.css\";\nimport { Field, reduxForm } from \"redux-form\";\nimport {required, maxLengthCreator} from \"../../../../utils/validators/validators.js\";\nimport { Textarea } from \"./../../../Common/FormsControls/FormsControls.jsx\"\n\nconst maxLength10 = maxLengthCreator(10);\n\nconst AddPostForm = props => {\n    return (\n      <form onSubmit={props.handleSubmit} className={styles.postsBlock}>\n        <div>\n          <Field component={Textarea} name=\"newPostBody\" placeholder=\"Введите текст...\" validate={[required, maxLength10]} />\n          <div>\n            <button>Опубликовать</button>\n            <button>Удалить</button>\n          </div>\n        </div>\n      </form>\n    );\n  }\n  \n  const AddPostFormRedux = reduxForm({form: \"profileAddPostForm\"})(AddPostForm);\n\n  export default AddPostFormRedux;","import React from \"react\";\nimport styles from \"./MyPosts.module.css\";\nimport Post from \"./Post/Post.jsx\";\nimport AddPostForm from \"./AddPostForm/AddPostForm.jsx\";\n\nconst MyPosts = React.memo(props => {\n  console.log(\"Render\");\n  let postsElement = props.profilePage.posts.map(p => (\n    <Post message={p.message} likesCount={p.likesCount} key={p.id} />\n  ));\n\n  function AddPost(values) {\n    props.addPost(values.newPostBody);\n  }\n\n  return (\n    <div>\n      <div className={styles.posts}>{postsElement}</div>\n      <AddPostForm onSubmit={AddPost} />\n    </div>\n  );\n});\n\nexport default MyPosts;\n","import MyPosts from \"./MyPosts.jsx\";\r\nimport { addPost } from \"./../../../redux/profileReducer.js\";\r\nimport { connect } from \"react-redux\";\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    profilePage: state.profilePage\r\n  };\r\n}\r\n\r\nlet MyPostsContainer = connect(\r\n  mapStateToProps,\r\n  {addPost}\r\n)(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styles from \"./ProfileStatus.module.css\";\r\n\r\nconst ProfileStatusWithHooks = props => {\r\n  let [editMode, setEditMode] = useState(false);\r\n  let [status, setStatus] = useState(props.status);\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status);\r\n  }, [props.status]);\r\n\r\n  const activateEditMode = () => {\r\n    setEditMode(true);\r\n  };\r\n\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateStatusTC(status);\r\n  };\r\n\r\n  const onStatusChange = e => {\r\n    setStatus(e.currentTarget.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {!editMode && (\r\n        <div>\r\n          <span onDoubleClick={activateEditMode}>\r\n            {props.status || \"Emty status\"}\r\n          </span>\r\n        </div>\r\n      )}\r\n      {editMode && (\r\n        <div>\r\n          <input\r\n            onChange={onStatusChange}\r\n            autoFocus\r\n            onBlur={deactivateEditMode}\r\n            value={status}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileStatusWithHooks;\r\n","import React from \"react\";\nimport styles from \"./ProfileInfo.module.css\";\nimport ProfileStatusWithHooks from \"./../ProfileStatus/ProfileStatusWithHooks.jsx\";\nimport nonAva from \"../../../nonAvatar.png\";\n\nfunction ProfileInfo({profile, status, updateStatusTC}) {\n  return (\n    <div>\n      <div className={styles.avatarImg}>\n        {\n          profile.photos.large ? <img src={profile.photos.large} alt=\"logoprofile\" /> : <img src={nonAva} alt=\"logoprofile\" />\n        }\n      </div>\n      <ProfileStatusWithHooks\n        status={status}\n        updateStatusTC={updateStatusTC}\n      />\n    </div>\n  );\n}\n\nexport default ProfileInfo;\n","import React from \"react\";\nimport styles from \"./Profile.module.css\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer.jsx\";\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo.jsx\";\nimport Preloader from \"../Common/Preloader/Preloader.jsx\";\n\nfunction Profile({profile, status, updateStatusTC}) {\n  if (!profile) {\n    return <Preloader />;\n  } else { \n  return (\n    <div className={styles.container}>\n      <ProfileInfo\n        profile={profile}\n        status={status}\n        updateStatusTC={updateStatusTC}\n      />\n      <MyPostsContainer />\n    </div>\n  );\n}\n}\n\nexport default Profile;\n","import React from \"react\";\r\nimport {\r\n  getUserProfileTC,\r\n  getStatusTC,\r\n  updateStatusTC\r\n} from \"./../../redux/profileReducer.js\";\r\nimport { connect } from \"react-redux\";\r\nimport Profile from \"./Profile.jsx\";\r\nimport { withAuthRedirect } from \"./../hoc/withAuthRedirect.js\";\r\nimport { withRouter } from \"react-router\";\r\nimport { compose } from \"redux\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n  componentDidMount() {\r\n    let userID = this.props.match.params.UserID;\r\n    if (!userID) {\r\n      userID = this.props.authorizedUserID;\r\n      if (!userID) {\r\n        this.props.history.push(\"/login\");\r\n      }\r\n    }\r\n    this.props.getUserProfileTC(userID);\r\n    this.props.getStatusTC(userID);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Profile\r\n          {...this.props}\r\n          profile={this.props.profile}\r\n          status={this.props.status}\r\n          updateStatusTC={this.props.updateStatusTC}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserID: state.auth.id,\r\n    isAuth: state.auth.isAuth\r\n  };\r\n}\r\n\r\nexport default compose(\r\n  connect(\r\n    mapStateToProps,\r\n    {\r\n      getUserProfileTC,\r\n      getStatusTC,\r\n      updateStatusTC\r\n    }\r\n  ),\r\n  withRouter,\r\n  withAuthRedirect\r\n)(ProfileContainer);\r\n"],"sourceRoot":""}